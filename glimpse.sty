\RequirePackage[utf8]{inputenc}
\RequirePackage{amsmath}
\RequirePackage{amsthm}
\RequirePackage{amsfonts}
\RequirePackage{mathrsfs}
\RequirePackage{amssymb}
\RequirePackage{mathtools}
\RequirePackage{pgf}
\RequirePackage{tikz}
%\RequirePackage{graphicx}
\RequirePackage[inline,shortlabels]{enumitem}
%\RequirePackage{pythontex}
\RequirePackage{pythonhighlight}
\RequirePackage{xcolor}
\RequirePackage{enumitem}
\RequirePackage{codesection}

\usetikzlibrary{arrows}

\newcounter{qi}
\newtheorem{definition}{Definitions}[section]

\newtheorem{algorithm}[definition]{Algorithm}
\newtheorem{program}[definition]{Program}

\newtheorem{axiom}[definition]{Axiom}
\newtheorem{lemma}[definition]{Lemma}
\newtheorem{proposition}[definition]{Proposition}
\newtheorem{theorem}[definition]{Theorem}

\newtheorem{corollary}{Corollary}[definition]

\newtheorem*{synopsis}{Synopsis}
\newtheorem*{remark}{Remark}
\newtheorem*{note}{Note}

\newcommand{\sequence}[1]{\{#1\}}

\newenvironment{commentary}{\color{purple}}{\color{black}}
\newenvironment{important}{\color{blue}}{\color{black}}
\newenvironment{vimportant}{\color{red}}{\color{black}}
\newenvironment{question}{\addtocounter{qi}{1} \textbf{\\ Question \arabic{qi}.}}{}

\newenvironment{story}{\BeginCodeSection{Level1}\color{violet}}{\color{black}\EndCodeSection{Level1}} %read in between the lines
\newenvironment{challenge}{\BeginCodeSection{Level2}\color{blue}}{\color{black}\EndCodeSection{Level2}} %results
\newenvironment{doubt}{\BeginCodeSection{Level3} \color{red}}{\color{black}\EndCodeSection{Level3}} %ideas to pursue

\SetCodeSection{Level1}{true} %change to false to hide story, ...
\SetCodeSection{Level2}{true} %change to false to hide challenge, ...
\SetCodeSection{Level3}{true} %change to false to hide doubt, ...
